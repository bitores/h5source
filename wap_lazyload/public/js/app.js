define(["router","loading"],function(router,loading){function dependencyResolverFor(dependencies){var definition={resolver:["$q","$rootScope",function($q,$rootScope){var deferred=$q.defer();return require(dependencies,function(){$rootScope.$apply(function(){deferred.resolve()})}),deferred.promise}]};return definition}var app=angular.module("app",["ngRoute","ngResource","ngAnimate","ngMessages","ngCookies"]);return app.service("loading",loading),app.config(function($routeProvider,$locationProvider,$controllerProvider,$compileProvider,$filterProvider,$provide){app.controller=$controllerProvider.register,app.directive=$compileProvider.directive,app.filter=$filterProvider.register,app.factory=$provide.factory,app.service=$provide.service,$locationProvider.html5Mode(!0),void 0!==router.routes&&angular.forEach(router.routes,function(route,path){$routeProvider.when(path,{templateUrl:route.templateUrl,resolve:dependencyResolverFor(route.dependencies)})}),void 0!==router.defaultRoutePaths&&$routeProvider.otherwise({redirectTo:router.defaultRoutePaths})}),app});